(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-checkCode"],{"03d9":function(e,t,n){"use strict";n("a9e3"),n("ac1f"),n("1276"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={name:"uiOneInput",props:{maxlength:{type:Number,default:4},isPwd:{type:Boolean,default:!1},type:{type:String,default:"middle"}},watch:{maxlength:{immediate:!0,handler:function(e){this.ranges=6===e?[1,2,3,4,5,6]:[1,2,3,4]}}},data:function(){return{codeIndex:1,codeArr:[],ranges:[1,2,3,4]}},methods:{getVal:function(e){var t=e.detail.value,n=t.split("");this.codeIndex=n.length+1,this.codeArr=n,this.codeIndex>Number(this.maxlength)&&this.$emit("finish",this.codeArr.join(""))}}};t.default=a},"149a":function(e,t,n){"use strict";n.r(t);var a=n("9ef8"),i=n("8452");for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n("bdbb");var r,s=n("f0c5"),c=Object(s["a"])(i["default"],a["b"],a["c"],!1,null,"9896adec",null,!1,a["a"],r);t["default"]=c.exports},"28d2":function(e,t,n){"use strict";var a=n("b382"),i=n.n(a);i.a},"49e8":function(e,t,n){"use strict";n.r(t);var a=n("ff0c"),i=n("ec58");for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n("28d2");var r,s=n("f0c5"),c=Object(s["a"])(i["default"],a["b"],a["c"],!1,null,"70eba5a8",null,!1,a["a"],r);t["default"]=c.exports},"49e9":function(e,t,n){var a=n("24fb");t=a(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.container[data-v-70eba5a8]{background-color:#fff;box-sizing:border-box;padding:%?82?% %?50?% 0}.container .title[data-v-70eba5a8]{font-size:%?60?%;font-weight:500;color:#333;line-height:%?84?%;margin-bottom:%?24?%}.container .tip[data-v-70eba5a8]{font-size:%?32?%;line-height:%?44?%;color:#333;margin-bottom:%?46?%}',""]),e.exports=t},"60e8":function(e,t,n){var a=n("b5d3");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var i=n("4f06").default;i("485f5368",a,!0,{sourceMap:!1,shadowMode:!1})},8452:function(e,t,n){"use strict";n.r(t);var a=n("03d9"),i=n.n(a);for(var o in a)"default"!==o&&function(e){n.d(t,e,(function(){return a[e]}))}(o);t["default"]=i.a},8708:function(e,t,n){"use strict";var a=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("96cf");var i=a(n("1da1")),o=a(n("5530")),r=n("26cb"),s={data:function(){return{countDown:0,timer:0}},computed:(0,o.default)({},(0,r.mapState)("system",["loginType","loginForm"])),methods:{countDownFunc:function(e){var t=this;clearInterval(this.timer),this.countDown=e,this.timer=setInterval((function(){if(t.countDown<=1)return t.countDown=0,void clearInterval(t.timer);t.countDown--}),1e3)},sendSmsRequest:function(e){var t=this;return(0,i.default)(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.$api.sendSms(e);case 3:a=n.sent,a&&1==a.code&&(t.countDownFunc(60),uni.showToast({title:"发送成功",icon:"none"}),"login"!==t.loginType&&(t.$store.commit("system/set_loginForm",e),uni.navigateTo({url:"/pages/login/checkCode"}))),console.log(a),n.next=10;break;case 8:n.prev=8,n.t0=n["catch"](0);case 10:case"end":return n.stop()}}),n,null,[[0,8]])})))()},checkSmsCodeRequest:function(e){var t=this;return(0,i.default)(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.$api.checkSmsCode(e);case 3:a=n.sent,a&&1==a.code&&(t.$store.commit("system/set_loginForm",e),uni.navigateTo({url:"/pages/login/setPassword"})),console.log(a),n.next=10;break;case 8:n.prev=8,n.t0=n["catch"](0);case 10:case"end":return n.stop()}}),n,null,[[0,8]])})))()},registerRequest:function(e){var t=this;return(0,i.default)(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.$api.register(e);case 3:a=n.sent,a&&1==a.code&&(t.$store.commit("system/set_userinfo",a.data),uni.setStorageSync("token",a.data.token),uni.reLaunch({url:"/pages/index/index"})),console.log(a),n.next=10;break;case 8:n.prev=8,n.t0=n["catch"](0);case 10:case"end":return n.stop()}}),n,null,[[0,8]])})))()},loginBySmsRequest:function(e){var t=this;return(0,i.default)(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,uni.showLoading({title:"加载中...",mask:!0}),n.next=4,t.$api.loginBySms(e);case 4:a=n.sent,uni.hideLoading(),a&&1==a.code&&(console.log(a),t.$store.commit("system/set_userinfo",a.data),uni.setStorageSync("token",a.data.token),uni.reLaunch({url:"/pages/index/index"})),console.log(a),n.next=12;break;case 10:n.prev=10,n.t0=n["catch"](0);case 12:case"end":return n.stop()}}),n,null,[[0,10]])})))()},loginByPassRequest:function(e){var t=this;return(0,i.default)(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,uni.showLoading({title:"加载中...",mask:!0}),n.next=4,t.$api.loginByPass(e);case 4:a=n.sent,uni.hideLoading(),a&&1==a.code&&(console.log(a),t.$store.commit("system/set_userinfo",a.data),uni.setStorageSync("token",a.data.token),uni.reLaunch({url:"/pages/index/index"})),console.log(a),n.next=12;break;case 10:n.prev=10,n.t0=n["catch"](0);case 12:case"end":return n.stop()}}),n,null,[[0,10]])})))()}}};t.default=s},"9ef8":function(e,t,n){"use strict";var a;n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"code-box"},[n("v-uni-view",{staticClass:"flex-box"},[n("v-uni-input",{staticClass:"hide-input",attrs:{type:"number",focus:"true",maxlength:e.maxlength},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.getVal.apply(void 0,arguments)}}}),e._l(e.ranges,(function(t,a){return[n("v-uni-view",{key:a+"_0",class:["item",{active:e.codeIndex===t,middle:"middle"===e.type,bottom:"bottom"===e.type,box:"box"===e.type}]},["middle"!==e.type?n("v-uni-view",{staticClass:"line"}):e._e(),"middle"===e.type&&e.codeIndex<=t?n("v-uni-view",{staticClass:"bottom-line"}):e._e(),e.isPwd&&e.codeArr.length>=t?[n("v-uni-text",{staticClass:"dot"},[e._v(".")])]:[e._v(e._s(e.codeArr[a]?e.codeArr[a]:""))]],2)]}))],2)],1)},o=[]},b382:function(e,t,n){var a=n("49e9");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var i=n("4f06").default;i("96d8c4c0",a,!0,{sourceMap:!1,shadowMode:!1})},b5d3:function(e,t,n){var a=n("24fb");t=a(!1),t.push([e.i,"@-webkit-keyframes twinkling-data-v-9896adec{0%{opacity:.2}50%{opacity:.5}100%{opacity:.2}}@keyframes twinkling-data-v-9896adec{0%{opacity:.2}50%{opacity:.5}100%{opacity:.2}}.code-box[data-v-9896adec]{text-align:center}.flex-box[data-v-9896adec]{display:flex;justify-content:space-around;flex-wrap:wrap;position:relative}.flex-box .hide-input[data-v-9896adec]{position:absolute;top:0;left:-100%;width:200%;height:100%;text-align:left;z-index:9;opacity:1}.flex-box .item[data-v-9896adec]{position:relative;width:%?100?%;height:%?100?%;margin-right:%?18?%;font-size:%?70?%;font-weight:700;color:#333;line-height:%?100?%}.flex-box .item[data-v-9896adec]:last-child{margin-right:0}.flex-box .middle[data-v-9896adec]{border:none}.flex-box .box[data-v-9896adec]{box-sizing:border-box;border:%?2?% solid #ccc;border-radius:%?6?%}.flex-box .bottom[data-v-9896adec]{box-sizing:border-box;border-bottom:%?2?% solid #d6d6d6}.flex-box .active[data-v-9896adec]{border-color:#ff553f}.flex-box .active .line[data-v-9896adec]{display:block}.flex-box .line[data-v-9896adec]{display:none;position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);width:%?2?%;height:%?40?%;background:#333;-webkit-animation:twinkling-data-v-9896adec 1s infinite ease;animation:twinkling-data-v-9896adec 1s infinite ease}.flex-box .dot[data-v-9896adec]{font-size:%?80?%;line-height:%?40?%}.flex-box .bottom-line[data-v-9896adec]{height:4px;background:#000;width:80%;position:absolute;border-radius:2px;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}",""]),e.exports=t},bdbb:function(e,t,n){"use strict";var a=n("60e8"),i=n.n(a);i.a},ec58:function(e,t,n){"use strict";n.r(t);var a=n("f72b"),i=n.n(a);for(var o in a)"default"!==o&&function(e){n.d(t,e,(function(){return a[e]}))}(o);t["default"]=i.a},f72b:function(e,t,n){"use strict";var a=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n("5530")),o=a(n("8708")),r={mixins:[o.default],data:function(){return{form:{mobile:null}}},onLoad:function(){this.form=this.loginForm},methods:{handleFinish:function(e){this.checkSmsCodeRequest((0,i.default)((0,i.default)({},this.form),{},{code:e}))}}};t.default=r},ff0c:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return a}));var a={wakaryInput:n("149a").default},i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"container"},[n("v-uni-view",{staticClass:"title"},[e._v(e._s("register"===e.loginType?"请输入短信验证码":"找回密码"))]),n("v-uni-view",{staticClass:"tip"},[e._v("已向您的手机 8866 发送验证码")]),n("wakary-input",{attrs:{type:"bottom"},on:{finish:function(t){arguments[0]=t=e.$handleEvent(t),e.handleFinish.apply(void 0,arguments)}}})],1)},o=[]}}]);